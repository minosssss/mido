# 네이버 지도 API를 활용한 '내 주변 업체 찾기' 웹 앱 프로젝트 플랜

## 1. 프로젝트 개요

본 프로젝트는 네이버 지도 API를 활용하여 사용자의 현재 위치 주변에 있는 업체(건설자원협회 회원사, 레미콘공장, 골재생산업체)를 찾고 표시하는 웹 애플리케이션입니다. 사용자는 자신의 위치를 중심으로 다양한 업체를 카테고리별로 필터링하고, 반경을 조절하여 검색할 수 있습니다.

## 2. 주요 기능

### 2.1. 현재 구현된 기능
- ✅ 네이버 지도 API 연동 및 지도 표시
- ✅ 사용자 현재 위치 표시
- ✅ 업체 필터링 (지역, 카테고리, 반경, 키워드)
- ✅ 업체 목록 표시 및 카드 UI 개발
- ✅ 업체 마커 표시 및 선택 기능
- ✅ 업체 상세 정보 패널 개발
- ✅ 모바일(바텀 시트) / 데스크탑(사이드바) 반응형 레이아웃
- ✅ 즐겨찾기 기능 (로컬 스토리지 활용)
- ✅ 네이버 지도 길찾기 연동

### 2.2. 추가 구현 예정 기능
- 🔄 데이터 업로드 기능 (엑셀 파일을 통한 업체 데이터 업로드)
- 🔄 대용량 데이터 처리 및 최적화
- 🔄 사용자 위치 기반 근접 업체 추천
- 🔄 지도 클러스터링을 통한 마커 최적화
- 🔄 업체 상세 정보 강화 (영업 시간, 리뷰 등)

## 3. 데이터 통합

### 3.1. 데이터 소스
- 한국건설자원협회 회원사 목록 (454개)
- 레미콘공장 전국 목록 (1080개)
- 골재생산업체 목록 (746개)

### 3.2. 데이터 모델
```typescript
export type Place = {
  id: string;
  name: string;          // 업체명
  address: string;       // 주소
  region: Region;        // 지역 
  category: PlaceCategory;
  representative?: string; // 대표자
  tel?: string;          // 전화번호
  lat: number;           // 위도
  lng: number;           // 경도
  aggregateType?: string; // 골재원(종류) - 골재 생산업체만 해당
  businessHours?: string;
  rating?: number;
  tags?: string[];
  imageUrl?: string;
};
```

## 4. 구현 계획

### 4.1. 엑셀 파서 구현
- SheetJS 라이브러리를 활용한 엑셀 파일 파싱 기능
- 주소를 좌표로 변환하는 지오코딩 기능

### 4.2. 데이터 통합 처리
- 각 데이터 소스별 정보 통합
- ID 생성 및 중복 처리
- 좌표 정보 보강

### 4.3. UI/UX 개선
- 데이터 로딩 인디케이터
- 지도 클러스터링 구현
- 카테고리별 색상 구분 강화

### 4.4. 성능 최적화
- 대용량 데이터 처리 최적화
- 가상 스크롤을 통한 목록 렌더링 성능 개선
- 메모이제이션을 통한 불필요한 렌더링 방지

## 5. 구현 단계

### 5.1. 1단계: 엑셀 파서 및 데이터 모델 구현
- 엑셀 파일 파싱 기능 개발
- 좌표 정보 가져오기 (지오코딩 API 활용)
- 데이터 모델 확장 및 통합

### 5.2. 2단계: UI 컴포넌트 확장
- 파일 업로드 컴포넌트 개발
- 지도 클러스터링 구현
- 데이터 로딩 및 에러 처리 개선

### 5.3. 3단계: 성능 최적화 및 배포
- 대용량 데이터 처리 최적화
- 코드 리팩토링 및 성능 개선
- 최종 테스트 및 배포

## 6. 기술 스택

- **프론트엔드**: React, TypeScript, Vite
- **상태 관리**: Context API, React Hooks
- **UI 컴포넌트**: shadcn/ui (Radix UI 기반)
- **스타일링**: Tailwind CSS
- **지도 API**: 네이버 지도 API v3
- **데이터 파싱**: SheetJS (xlsx)
- **좌표 변환**: 네이버/카카오 지오코딩 API
- **HTTP 클라이언트**: axios

## 7. 성능 최적화 전략

1. **데이터 처리 최적화**:
   - 데이터 청크 단위 처리
   - 인덱싱 및 검색 최적화
   - 캐싱 전략 적용

2. **렌더링 최적화**:
   - 메모이제이션 (React.memo, useMemo, useCallback)
   - 가상 스크롤 (react-virtual 또는 react-window)
   - 지연 로딩 및 코드 스플리팅

3. **지도 최적화**:
   - 마커 클러스터링
   - 뷰포트 기반 데이터 필터링
   - 이미지 스프라이트 활용

## 8. 타임라인

1. **엑셀 파서 및 데이터 모델 구현**: 2일
2. **UI 컴포넌트 확장**: 1일
3. **성능 최적화 및 배포**: 1일

## 9. 리스크 및 해결 방안

1. **대용량 데이터 처리**: 
   - 청크 단위 처리 및 웹 워커 활용
   - 인덱스 기반 검색 최적화

2. **좌표 정보 부재**: 
   - 지오코딩 API 활용
   - 배치 처리 및 결과 캐싱

3. **모바일 성능 이슈**: 
   - 점진적 로딩 및 지연 렌더링
   - 지도 마커 최적화
