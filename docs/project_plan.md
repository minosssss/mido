# 네이버 지도 API를 활용한 '내 주변 업체 찾기' 웹 앱 프로젝트 플랜

## 1. 프로젝트 개요

본 프로젝트는 네이버 지도 API를 활용하여 사용자의 현재 위치 주변에 있는 업체(건설자원협회 회원사, 레미콘공장, 골재생산업체)를 찾고 표시하는 웹 애플리케이션입니다. 사용자는 자신의 위치를 중심으로 다양한 업체를 카테고리별로 필터링하고, 반경을 조절하여 검색할 수 있습니다.

## 2. 주요 기능

### 2.1. 현재 구현된 기능
- ✅ 네이버 지도 API 연동 및 지도 표시
- ✅ 사용자 현재 위치 표시
- ✅ 업체 필터링 (지역, 카테고리, 반경, 키워드)
- ✅ 업체 목록 표시 및 카드 UI 개발
- ✅ 업체 마커 표시 및 선택 기능
- ✅ 업체 상세 정보 패널 개발
- ✅ 모바일(바텀 시트) / 데스크탑(사이드바) 반응형 레이아웃
- ✅ 즐겨찾기 기능 (로컬 스토리지 활용)
- ✅ 네이버 지도 길찾기 연동

### 2.2. 추가 구현 예정 기능
- 🔄 엑셀 파일을 통한 업체 데이터 업로드 및 처리
- 🔄 좌표 변환 및 지오코딩 구현
- 🔄 대용량 데이터 처리 및 성능 최적화
- 🔄 지도 클러스터링을 통한 마커 최적화
- 🔄 엑셀 데이터 검증 및 오류 처리

## 3. 데이터 통합

### 3.1. 데이터 소스
- 한국건설자원협회 회원사 목록 (454개)
- 레미콘공장 전국 목록 (1080개)
- 골재생산업체 목록 (746개)

### 3.2. 데이터 모델
```typescript
export type Place = {
  id: string;
  name: string;          // 업체명
  address: string;       // 주소
  region: Region;        // 지역 
  category: PlaceCategory;
  representative?: string; // 대표자
  tel?: string;          // 전화번호
  lat: number;           // 위도
  lng: number;           // 경도
  aggregateType?: string; // 골재원(종류) - 골재 생산업체만 해당
  businessHours?: string;
  rating?: number;
  tags?: string[];
  imageUrl?: string;
};
```

## 4. 엑셀 파일 처리 계획

### 4.1. 엑셀 파일 구조 분석
- 한국건설자원협회 회원사 목록: 회사명, 주소, 연락처, 담당자 등
- 레미콘공장 전국 목록: 공장명, 주소, 연락처, 생산능력 등
- 골재생산업체 목록: 업체명, 주소, 연락처, 골재 종류 등

### 4.2. 파일 업로드 기능 구현
- 파일 업로드 컴포넌트 개발
- 드래그 앤 드롭 및 파일 선택 기능
- 파일 형식 검증 (xlsx, xls)

### 4.3. 엑셀 데이터 파싱 기능 강화
- SheetJS 라이브러리를 활용한 엑셀 파일 파싱
- 헤더 자동 인식 및 매핑
- 데이터 정규화 및 검증

### 4.4. 지오코딩 및 좌표 변환
- 네이버/카카오 지오코딩 API 연동
- 주소 -> 좌표 변환 처리
- 일괄 처리 및 성능 최적화

## 5. 성능 최적화 계획

### 5.1. 데이터 처리 최적화
- 웹 워커를 활용한 백그라운드 처리
- 청크 단위 데이터 처리
- 로컬 스토리지 및 IndexedDB 활용

### 5.2. 렌더링 성능 개선
- 가상 스크롤 구현
- React 메모이제이션 활용
- 코드 스플리팅 및 지연 로딩

### 5.3. 지도 마커 최적화
- 마커 클러스터링 구현
- 뷰포트 기반 마커 필터링
- 지도 렌더링 성능 향상

## 6. 작업 계획

### 6.1. 1단계: 엑셀 파일 업로드 및 파싱 구현
- `FileUpload` 컴포넌트 완성
- `excel-parser.ts` 기능 보강
- 주소 -> 좌표 변환 구현

### 6.2. 2단계: 데이터 처리 및 통합
- 파일별 데이터 매핑 구현
- 데이터 정규화 및 검증
- 통합 데이터 모델 적용

### 6.3. 3단계: UI/UX 개선 및 성능 최적화
- 로딩 상태 및 진행률 표시
- 오류 메시지 및 사용자 피드백
- 대용량 데이터 처리 최적화

## 7. 현재 진행 상황

현재 프로젝트는 기본적인 지도 및 목록 UI가 구현되어 있으며, 다음과 같은 기능이 추가로 구현되었습니다:

- ✅ 엑셀 파일 업로드 및 처리 기능 구현
- ✅ 파일 유효성 검사 및 오류 처리
- ✅ 드래그 앤 드롭 업로드 지원
- ✅ 데이터 정규화 및 중복 처리
- ✅ 카테고리별 탭 UI 구현

다음 단계로는 다음 기능을 구현할 예정입니다:

1. 지오코딩 API 연동 (현재는 더미 구현)
2. 지도 클러스터링 구현
3. 대용량 데이터 처리 최적화
4. 데이터 캐싱 및 영구 저장소 활용
